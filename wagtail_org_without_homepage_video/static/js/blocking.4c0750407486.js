(()=>{"use strict";function e(e,{isInitial:t=!1}={}){const a="dark",o="light",l="wagtail-theme";let c,r,n;try{n=localStorage.getItem(l)}catch(e){console.warn("Unable to read theme from localStorage",e)}if(c=n?n===o?o:a:window.matchMedia("(prefers-color-scheme:dark)").matches?a:o,r=t?c===a?a:o:c===a?o:a,document.body.classList.toggle("theme-dark",r===a),n||e)try{localStorage.setItem(l,r)}catch(e){console.warn("Unable to store theme in localStorage",e)}}e(null,{isInitial:!0}),document.addEventListener("theme:toggle-theme-mode",e,{passive:!0})})();